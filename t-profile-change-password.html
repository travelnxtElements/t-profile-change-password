<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../t-password-input/t-password-input.html">
<link rel="import" href="../t-input/t-input.html">
<link rel="import" href="../t-text-container/travel-element-styles.html" />

<!--
    <h3>Details:</h3>
        The `t-profile-change-password` is a form component for changing or setting user password.
        It uses two components primarily, one being `t-password-input` to set new password.The other being
        `t-input` to fill current password.
       
        Following are its child components -
        <ul>
          <ol> 1.`t-password-input`</ol>
          <ol> 2.`t-input`</ol> 
        </ul>

         

    <h3>Events:</h3>
        Following events are fired by this component.
           <p>'validate' - triggered to validate this component.</p>
          

    <h3>Example:</h3>

        <t-profile-change-password>
        
        </t-profile-change-password>

    @demo demo/index.html
-->

<dom-module id="t-profile-change-password">
            <template>
                <style include="travel-element-styles">          
                </style>
                       
                <div class='section-small'>
                    <t-input id="currentPassword" 
                      name="currentPassword" 
                      label="Current Password" 
                      value="{{currentPassword}}"
                      type="password"
                      required
                      class="margin-bottom-medium">
                    </t-input>

                    <t-password-input 
                        class="margin-bottom-large" 
                        id="newPassword" 
                        name="newPassword" 
                        label="New Password"
                        default-password-check-list="{{defaultPasswordCheckList}}"
                        required 
                        value="{{newPassword}}">
                    </t-password-input>
                </div>
                   
            </template>

            <script>
                Polymer({

                    is: 't-profile-change-password',

                    properties: {
                        /**
                         * The current Password to be set
                         * @type String
                         */
                        newPassword:{
                            type: String,
                            notify:true
                        },
                        /**
                         * The current Password to be set
                         * @type String
                         */
                        currentPassword:{
                            type: String,
                            notify:true
                        },
                        /**
                         * The token to call mystique Api
                         * @type String
                         */
                        userToken:{
                           type: String,
                           notify:true 
                        },

                        /**
                         * This is the array of the validation regex.
                         * This works only when noValidation is false and you can pass your 
                         * custom regex in this format.
                         */
                        defaultPasswordCheckList: {
                            type:Array,
                            notify:true

                        }
                    },
                    
                    validate:function() {
                        return (this.$.newPassword.validate() && this.$.currentPassword.validate());
                    }
                });
            </script>
</dom-module>
